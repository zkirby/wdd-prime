<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
    <title>WDD Homework 10</title>
    <link rel="stylesheet" type="text/css" href="http://webdesigndecal.github.io/wddstylesheet/style.css">
	<style type="text/css"></style>
</head>
<body>
	<div id="container">
		<div id="header">
			<div id="header-caption">
				<div id="header-caption-logo"><img class="img-scaled" src="assets/images/logo.png"></div>
				<div id="header-caption-name">Web Design DeCal</div>
				<div class="clear"></div>
			</div>
			<div id="header-content">
				<!-- ASSIGNMENT NAME -->
				<div id="header-title">Homework 11</div>
				<!-- DUE DATE -->
				<div id="header-due">April 23rd</div>
				<div class="clear"></div>
			</div>
		</div>
		<div class="section">
			<div class="info">
				<!-- ASSIGNMENT TITLE -->
				<div class="info-title">Advanced JS HW 2</div>
				<div class="info-content">
					<!-- REQUIRED TOOLS -->
					<div class="info-required">Required Tool: Text Editor and Google Chrome Web Inspector</div>
					<!-- INTRODUCTION -->
					<div class="info-intro"> As the class winds down, let's explore what a web app might look like using JavaScript. Will explore some more advanced features of the language and best practice all while finishing our WDD-Prime web app.</div>
				</div>
			</div>
			<div class="body">
				<div class="body-header">Assignment</div>
				<!-- CONTENT -->

				<!-- Styled Tags; P, UL, LI, .caption, A, IMG-->
				<!-- Add P Tags for each paragraph -->
				<!-- Use UL LI Tags for each lists -->
				<!-- Use P Tags with "caption" class for paragraph captions (60% opacity) -->
				<!-- Use IMG Tags for images -->
				<p class="caption">You can download the assignment file here:</p>
				<a href="assets/hw8.zip"><div class="download">Download File</div></a>
				<p class="caption">You must NOT make any changes to HTML/CSS document in these questions. All of your changes should only be in the JS files</p>

				<p class="body-header">Question 1: Login</p>
				<p>Relevant readings: <a href="https://www.w3schools.com/html/html5_webstorage.asp">session/local storage</a>.</p>
				<p>While it's not necessary to read all of the articles in their entirety, it is necessary to understand their content/main ideas for this part of the assignment.</p>

				<p>Now that we have the basics of our admin panel down, management wants us to add a login system to register users. Unfortunately, we don't have funding for AWS so we'll have to settle for a simulated database via local and session storage. We'll reserve local storage for farmer accounts <b>only</b> and we'll use session for everything else.</p>

				<p><b>TASK</b>: Navigate to login.js. Use either session or local storage to save current_account.username to the key "current_market_user" in the 'database'. This should only be one line of code, don't overthink it lol.</p>
				<br />

				<p class="body-header">Question 2: Watchers</p>

				<p>Relevant readings: <a href="https://msdn.microsoft.com/en-us/magazine/hh201955.aspx">Pub/Sub</a>.</p>

				<p>PREAMBLE:<br>
				Now that we have a working login system, we want to add some cool features to WDD-Prime! One feature we would like to add is the ability to 'watch' an item and automatically purchase it when it dips below a certain threshold (called the price_limit) because everytime an item is added, all other items a decreased in price by 5%</p>

				<p>We will use a pub/sub design pattern to implement this. A typical pub/sub pattern has an event class (written for you) that simply tracks topics/events. To subscribe to a topic, just call subscribe with the topic name and a function that takes a single argument (data). When the event is published (i.e. an update relevant to the event happens) all functions that are subscribed to the topic are called and passed the new data.</p>

				<p>TASK:
				<ol>
					<li>Part 1: In market_object.js, Finish the publish method. A call to publish(topic, data) must call all functions subscribed to the topic and pass data to them</li>
					<li>Part 2: In market_admin.js, market_user.js, and market_objects.js fill in the publish/subscribe calls so that a market_user can subscribe to an item on a market_owner's market and automatically buy it when it dips below the market_user's price_limit. HINT: .check_buy(item) and .sell_item(item) look pretty useful in the Farmer object. NOTE: It is ok to subscribe to an item (and thus buy an item) multiple times. It's an easy fix, but we won't worry about it for this hw. Also don't worry about storing anything, it's all done for you. </li>
				</ol> </p>

			</div>
		</div>
		<div id="submission">
			<div id="submission-header">Submission</div>
			<div id="submission-content">
				<p>Submit the following files as a <strong>zip</strong> file through Assignments under Resources tab of the WDD Portal:</p>
				<!-- REQUIRED FILES -->
				<ul>
					<li>index.html</li>
					<li>account.html</li>
					<li>global_market.html</li>
					<li>login.html</li>
					<li>market_admin.html</li>
					<li>market_user.html</li>
					<li>assets/css/style.css</li>
					<li>assets/js/login.js</li>
					<li>assets/js/global_market.js</li>
					<li>assets/js/market_admin.js</li>
					<li>assets/js/market_user.js</li>
					<li>assets/js/account.js</li>
				</ul>
				<p>Your assignment must be submitted as a <strong>zip</strong> file. Submission will automatically fail if your submission does not contain the index.html or if is not a zip file.</p>
			</div>
		</div>
	</div>
</body>
</html>
